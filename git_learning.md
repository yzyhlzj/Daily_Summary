[toc]

# git学习

## 概念理解

从一个初学者的角度，我认为git有三个需要稍微需要理解的概念

首先，理解下 Git 工作区、暂存区和版本库概念：

- **工作区：**就是你在电脑里能看到的目录。
- **暂存区：**英文叫 stage 或 index。一般存放在 **.git** 目录下的 index 文件（.git/index）中，所以我们把暂存区有时也叫作索引（index）。
- **版本库：**工作区有一个隐藏目录 **.git**，这个不算工作区，而是 Git 的版本库。

下面这个图展示了工作区、版本库中的暂存区和版本库之间的关系：

![image-20231029222634656](C:\Users\DELL\Desktop\learn-git\Daily_Summary\git学习.assets\image-20231029222634656.png)



## 一、初始化

安装git后，在命令行界面初始化用户名和密码

```
git config -user.name "Your Name"
git config -user.email email@mail.com
```

## 二、创建仓库

1、在文件夹里创建git仓库，如果不加仓库名（repo-name）就会默认将本文件夹作为git仓库

git init <repo-name>

2、下载一个远程仓库

git clone <url>

## 三、四个区域和三种状态

### 1、四个区域

git中涉及区域的概念分为四种，分别为**workspace、index/stage、repository、remote**
**workspace区域**：工作区，就是平时存放项目代码的地方，**日常的代码开发工作也是在这里进行**。也就是我们可以直接在电脑中看到的目录下文件。

**index / stage区域**：暂存区，用于临时存放你的改动，事实上它只是一个文件，保存即将提交到仓库区的文件列表信息。**为什么要有一个暂存区呢？**笔者认为从命令的角度出发，从工作区到暂存区不用写备注（就是你这次提交是干什么用的），从暂存区到仓库区需要写备注，对于涉及到很多文件改的代码需求来说，这种设计还是有意义的

**repository区域**：仓库区（或版本库），就是安全存放文件的位置，这里可以查到所有人的所有提交记录

**remote区域**：远程仓库，托管代码的服务器，可以简单的认为是你项目组中的一台电脑用于远程数据交换

![image-20231029211838732](C:\Users\DELL\Desktop\learn-git\Daily_Summary\git学习.assets\image-20231029211838732.png)

### 2、三种状态

使用git进行项目管理时，文件从我们创建到编辑完提交Git帮我们记录，一共要经历3种状态：**已修改（modified）、** **已暂存（staged）**和**已提交（committed）**

- 刚刚开始时编辑文件，这个时候文件是处于 **已修改（modified）** 状态，文件是在**工作目录**
- 修改完文件，我们执行`git add`，这个时候文件就变为 **已暂存（staged）**状态，文件信息进入**暂存区域**，内容被保存到Git数据库中
- 然后我们执行`git commit`，文件就变为**已提交（committed）**状态，创建了一个提交记录保存到了**Git 仓库**

### 3、git status

同时我们也可以用**git status**查看各个文件的状态

## 四、本地仓库

将工作区中的文件通过git add <filename>命令添加到工作区

```
git add <filename>
```

将暂存区中的文件通过git commit -m "提交备注"命令提交到仓库区

```
git commit -m "提交备注"
```

查看版本的差异

git diff 命令比较文件的不同，即比较文件在暂存区和工作区的差异。

git diff 命令显示已写入暂存区和已经被修改但尚未写入暂存区文件的区别。

git diff 有两个主要的应用场景。

- 尚未缓存的改动：**git diff**
- 查看已缓存的改动： **git diff --cached**
- 查看已缓存的与未缓存的所有改动：**git diff HEAD**
- 显示摘要而非整个 diff：**git diff --stat**

## 五、分支

分支是git中一个比较重要的概念

git branch命令可以查看所有本地分支，当前分支前面会有一个*，-r查看远程分支，-a查看所有分支

```
git branch
```

创建分支

```
git branch (branchname)
```

切换分支

```
git checkout (branchname)
git switch (branchname) 推荐
```



## 六、远程仓库

### 添加远程库

要添加一个新的远程仓库，可以指定一个简单的名字，以便将来引用,命令格式如下：

```git
git remote add [shortname] [url]
```

这里的shortname如果使用origin，那么使用git push时就会默认推送到这个仓库下

### 向远程仓库推送

```
git push [alias] [branch]
```

## 删除远程仓库

删除远程仓库你可以使用命令：

```
git remote rm [别名]
```

## 总结

我们大部分人从事的不是创造性的工作，最多也就是使用现有的工具解决实际的问题，学习这些现有的工具的过程我认为毫无创造思维可言，因此极为缺乏乐趣，尤其是对笔者这种自制力缺乏的人更是如此。但最近突然明白个道理，任何事情的学习都是概念的学习，在学的时候多想想为什么，这些东西为什么要这么做，一旦能回答这个问题，离精通这么技术也不远了。记忆里的好坏虽然重要，但只是概念理解后的附加品罢了。

